<header>
    <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
        <div class="container-fluid">
            <div class="d-flex justify-content-end align-items-center w-100 ml-5">
                <div class="today-date" style="display: inline-block; margin-top: 10px; margin-right: 10px;">
                    <div id="countdownTimer" style="display:none; display: inline-block; margin-right: 10px; margin-top: 3px;"></div>
                </div>
            </div>
        </div>
    </nav>
</header>
<script>
    $(document).ready(function () {
        if (updatedRemainingTime > 0) {
            startCountdownTimer(updatedRemainingTime);
        }
    });
    var storedRemainingTime = sessionStorage.getItem('remainingTime');
    var updatedRemainingTime = parseInt(storedRemainingTime);
    var selectedSeats = JSON.parse(sessionStorage.getItem('selectedSeats')) || [];
    function startCountdownTimer() {
        $('#countdownTimer').show();
        countdownInterval = setInterval(function () {
            $('#countdownTimer').text("Time remaining: " + formatTime(updatedRemainingTime));
            updatedRemainingTime--;

            if (updatedRemainingTime <= 0) {
                clearInterval(countdownInterval);
                alert("Booking time expired. Please restart the booking process.");
                sessionStorage.clear();
                window.location.href = '@Url.Action("Index", "CinemaHome")';
            }
            sessionStorage.setItem("remainingTime", updatedRemainingTime);
        }, 1000);
    }
    function formatTime(seconds) {
        var min = Math.floor(seconds / 60);
        var sec = seconds % 60;
        return min + ":" + (sec < 10 ? "0" : "") + sec;
    }
</script>